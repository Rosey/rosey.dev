<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="The personal site of Rose Robertson, Front end developer from Victoria, BC.">
        <script async src="https://www.google-analytics.com/analytics.js"></script>
        <title>rosey.dev</title>
        <link href="https://fonts.googleapis.com/css?family=Sniglet|Merriweather:400,400i,700&display=swap" rel="stylesheet">
        <style>

            @keyframes fall-down {
                from {
                    transform: translateY(0);
                }

                to {
                    transform: translateY(100vh);
                }
            }

            @keyframes fade-out {
                from {
                    opacity: 1;
                }

                to {
                    opacity: 0;
                }
            }

            @keyframes wiggle {
                to {
                    transform: translateX(-50px);
                }
            }

            @keyframes jump-in {
                from {
                    transform: scale(0);
                }

                to {
                    transform: scale(1);
                }
            }

            html {
                font-size: 18px;
                --main-background: #F8F8FF;
                --main-text-color: #000032;
                --main-light-text-color: #626080;
                --main-border-color: #e9e9f2;
            }

            body {
                background: #F8F8FF;
                background: var(--main-background);
                color: #000032;
                color: var(--main-text-color);
                margin: 0;
                padding: 0;
                line-height: 1.75;
                font-family: 'Merriweather', Georgia, 'Times New Roman', Times, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", serif;
            }

            body.fun-mode {
                font-family: 'Sniglet', 'Comic Sans MS', "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", serif;
                --accent: 255,67,164;
            }

            body.fun-mode h1::after, body.fun-mode h2::after {
                position: absolute;
                top: 0;
                left: 0;
                display: block;
                content: attr(data-text)attr(data-text);
                color: rgba(255,255,255,0);
                text-decoration: underline;
                text-decoration-style: wavy;
                text-decoration-color: rgba(255,67,164, .5);
                text-decoration-color: rgba(var(--accent), .5);
                text-decoration-skip: none;
                text-decoration-skip-ink: none;
                overflow: hidden;
                white-space: nowrap;
                animation: wiggle 3s linear infinite;
            }

            body.fun-mode h1, body.fun-mode h2 {
                position: relative;
                overflow: hidden;
                width: -moz-fit-content;
                width: -webkit-fit-content;
                width: fit-content;
            }

            body.fun-mode ul {
                list-style-type: circle;
            }

            h1 {
                font-size: 1.5em;
            }

            h2 {
                font-size: 1.15em;
            }

            body.fun-mode a, body.fun-mode a:active {
                color: rgba(255,67,164, 1);
                color: rgba(var(--accent), 1);
                text-decoration: none;
            }

            a {
                color: blue;
                position: relative;
                text-decoration: underline;
            }

            a:active {
                color: orangered;
            }

            body.fun-mode a:hover::after {
                position: absolute;
                top: -4px;
                left: -18px;
                right: -18px;
                bottom: -4px;
                background: url("brush-stroke-banner-6.svg");
                background-size: 100%;
                background-repeat: no-repeat;
                background-position: 0;
                content: "";
                display: block;
                z-index: -1;
                opacity: 1;
            }

            .main {
                width: 90%;
                max-width: 750px;
                margin: 0 auto;
                padding: 30px 0;
                box-sizing: border-box;
            }

            .title-image {
                width: 450px;
                height: auto;
            }

            .emoji {
                position: relative;
                top: 2px;
                font-size: 1.5em;
                line-height: 0;
            }

            .click-emoji {
                animation: jump-in 75ms ease-in;
                font-size: 2em;
            }

            .fall-down.click-emoji {
                animation-name: fall-down;
                animation-timing-function: ease-in;
            }

            .fun-mode-toggle-form {
                position: absolute;
                top: 20px;
                right: 20px;
                display: flex;
                align-items: center;
                font-family: 'Merriweather', Georgia, 'Times New Roman', Times, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", serif;
                color: #626080;
                color: var(--main-light-text-color);
                font-size: .75em;
            }

            .fun-mode-toggle-form > label {
                flex-shrink: 0;
            }

            .fun-mode-toggle-form > label:first-child {
                margin-right: 10px;
            }

            .switch {
                position: relative;
                display: inline-block;
                width: 60px;
                height: 34px;
            }

            .switch input {
                opacity: 0;
                width: 0;
                height: 0;
            }

            .slider {
                position: absolute;
                cursor: pointer;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                border: 1px solid #626080;
                border: 1px solid var(--main-light-text-color);
                -webkit-transition: .4s;
                transition: .4s;
                border-radius: 34px;
            }

            .slider:before {
                position: absolute;
                content: 'üòú\00a0';
                height: 26px;
                width: 26px;
                left: 4px;
                bottom: 4px;
                -webkit-transition: .4s;
                transition: .4s;
                border-radius: 50%;
                font-size: 25px;
                line-height: 30px;
            }

            input:checked + .slider {
                border: 1px solid rgba(255,67,164, 1);
                border: 1px solid rgba(var(--accent), 1);
                background: rgba(255,67,164, 1);
                background: rgba(var(--accent), 1);
            }

            input:focus + .slider {
                box-shadow: 0 0 2px 1px rgba(255,67,164, 1);
                border-color: rgba(255,67,164, 1);
                box-shadow: 0 0 2px 1px rgba(var(--accent), 1);
                border-color: rgba(var(--accent), 1);
            }

            input:checked + .slider:before {
                transform: translateX(26px);
            }

            hr {
                background: none;
                border: none;
                border-top: 1px solid #e9e9f2;
                border-top: 1px solid var(--main-border-color);
                margin: 30px auto;
                width: 80%;
            }

            body.fun-mode hr {
                border-color: rgba(255,67,164, 1);
                border-color: rgba(var(--accent), 1);
            }

            .easter-egg-hint {
                position: absolute;
                top: 45px;
                padding: 5px 10px;
                color: black;
                background: yellow;
                display: none;
            }

            .profile-pic {
                width: 100%;
                height: auto;
                margin: 5px 0;
            }

            body.fun-mode .easter-egg-hint {
                display: block;
                animation: fade-out 400ms 5s ease-in forwards;
            }
        </style>
    </head>
    <body>
        <section class="main">
            <h1 data-text="Rosemarie Robertson">Rosemarie Robertson</h1>
            <p id="main-intro">
                Hello <span class="emoji">üë©‚Äçüíª</span>
                I am a software developer. Welcome <span class="emoji">üôÇ</span>
            </p>
            <hr>
            <h2 data-text="Things to know about me">Things to know about me</h2>
            <ul>
                <li>I am a front end developer.</li>
                <li>I work at <a href="https://getflow.com" target="_blank" rel="noopener">Flow</a>.</li>
                <li>I also manage the other developers who work at Flow.</li>
                <li>We‚Äôre a very small team, so I still have plenty of time to just sit and write code, which I love <span class="emoji">‚ù§Ô∏è</span></li>
                <li>I don‚Äôt have much free time to do dev work outside of my job.</li>
                <li>I am a mom! I have a toddler‚Ä¶ and I am pregnant, due December 2019. I also have a dog and a husband. My life is pretty busy.</li>
                <li>I live in <a href="https://en.wikipedia.org/wiki/Victoria,_British_Columbia" target="_blank" rel="noopener">Victoria</a>, British Columbia, Canada <span class="emoji">üá®üá¶</span></li>
            </ul>

            <hr>

            <h2 data-text="Other places you can find me">Other places you can find me</h2>
            <ul>

                <li>
                    <a href="https://github.com/rosey" target="_blank" rel="noopener">github/rosey</a>
                </li>
                <li>
                    <a href="https://dev.to/rose" target="_blank" rel="noopener">dev.to/rose</a>
                </li>
            </ul>
        </section>

        <form class="fun-mode-toggle-form" id="funModeToggle">
            <label for="funMode">
                <ins>F</ins>un Mode?
            </label>
            <label class="switch">
                <input type="checkbox" accesskey="f" name="funMode" id="funMode" />
                <span class="slider"></span>
            </label>
            <span class="easter-egg-hint">
                How many easter eggs can you find?
            </span>
        </form>

        <script>
            var funMode = false;
            var totalEmojiAdded = 0;
            var emojiCleanEasterEggShown = false;
            var today = new Date();
            var profileImage = document.createElement('img');
            profileImage.setAttribute('src', './me-1.jpg');
            profileImage.classList.add('profile-pic');
            var possibleEmoji = [
                'üêπ',
                'üê¢',
                'üåº',
                'üçâ',
                'üçæ',
                'üß∏',
                'üíñ',
                'üéµ',
                '‚≠êÔ∏è',
                'ü§ì',
                'ü¶Ñ',
                'üßö‚Äç‚ôÄÔ∏è'
            ];

            if (today.getMonth() === 9 && [31, 30, 29, 28].indexOf(today.getDate()) !== -1) {
                possibleEmoji = [
                    'üëª',
                    'üéÉ',
                    'üßü‚Äç‚ôÄÔ∏è',
                    'üßõ‚Äç‚ôÄÔ∏è',
                    'üíÄ'
                ];
            }

            if (today.getMonth() === 11 && [21, 22, 23, 24, 25, 26].indexOf(today.getDate()) !== -1) {
                possibleEmoji = [
                    '‚ùÑÔ∏è',
                    'üéÖ',
                    'üéÅ',
                    'üéÑ',
                    'ü§∂'
                ];
            }

            document.addEventListener('DOMContentLoaded', function () {
                funMode = document.getElementById('funMode').checked;
                document.body.classList.toggle('fun-mode', funMode);
                var mainIntro = document.getElementById('main-intro');

                document.addEventListener('selectionchange', function() {
                    if (funMode) {
                        var selection = document.getSelection();
                        var selectedText = selection ? selection.toString() : null;
                        if (selectedText === 'Rosemarie') {
                            mainIntro.appendChild(profileImage);
                            if (ga) {
                                ga('send', 'event', 'Show Profile Image', 'select');
                            }
                        } else if (profileImage.parentNode) {
                            mainIntro.removeChild(profileImage);
                            if (ga) {
                                ga('send', 'event', 'Hide Profile Image', 'select');
                            }
                        }
                    }
                });

                document.body.addEventListener('click', function (e) {
                    if (funMode && !e.target.getAttribute("href") && e.target.parentNode.nodeName !== 'LABEL') {
                        var randomNumber = Math.round(Math.random() * possibleEmoji.length);
                        var span = document.createElement('span');
                        span.textContent = possibleEmoji[randomNumber];
                        span.className= 'emoji click-emoji';
                        span.style.left = e.clientX + 'px';
                        span.style.top = e.clientY + 'px';
                        span.style.position = 'fixed';
                        document.body.appendChild(span);
                        totalEmojiAdded++;

                        if (ga) {
                            ga('send', 'event', 'Add Emoji', 'click');
                        }

                        if (totalEmojiAdded === 15 && !emojiCleanEasterEggShown) {
                           // todo - hiding for now. Would be good to have a mobile-friendly version of this too.
                           // alert ('Hint: Close this box and hit the "c" key to clean up this emoji mess!');
                            emojiCleanEasterEggShown = 0;
                        }
                    }
                });

                document.addEventListener('keyup', function (e) {
                    if (e.keyCode === 70 && !e.ctrlKey && !e.altKey && !e.metaKey) { // f
                        var funModeInput = document.getElementById('funMode');
                        funModeInput.checked = !funModeInput.checked;
                        toggleFunMode(funModeInput);
                    }

                    if (funMode && e.keyCode === 80) { // p
                        document.body.style.setProperty('--accent', '255,67,164');
                        if (ga) {
                            ga('send', 'event', 'Set Accent', 'keyup', 'pink');
                        }
                    }

                    if (funMode && e.keyCode === 79) { // o
                        document.body.style.setProperty('--accent', '255,84,33');
                        if (ga) {
                            ga('send', 'event', 'Set Accent', 'keyup', 'orange');
                        }
                    }

                    if (funMode && e.keyCode === 66) { // b
                        document.body.style.setProperty('--accent', '19,19,255');
                        if (ga) {
                            ga('send', 'event', 'Set Accent', 'keyup', 'blue');
                        }
                    }

                    if (funMode && e.keyCode === 71) { // g
                        document.body.style.setProperty('--accent', '42,162,20');
                        if (ga) {
                            ga('send', 'event', 'Set Accent', 'keyup', 'green');
                        }
                    }

                    if (funMode && e.keyCode === 67) { // c
                        var clickEmoji = document.getElementsByClassName('click-emoji');
                        var totalEmoji = clickEmoji.length;
                        Array.from(clickEmoji).forEach(function (emoji, index) {
                            var maximumDelay = totalEmoji.length > 10 ? 1000 : 400;
                            if (index === 0) {
                                emoji.style['animation-delay'] = 0 + 'ms';
                            } else {
                                emoji.style['animation-delay'] = Math.round(Math.random() * maximumDelay) + 'ms';
                            }

                            emoji.style['animation-duration'] = Math.max(Math.round(Math.random() * 700), 100) + 'ms';
                            emoji.classList.add('fall-down');
                            emoji.addEventListener('animationend', function () {
                                document.body.removeChild(emoji);
                            });

                            totalEmojiAdded = 0;
                            emojiCleanEasterEggShown = true; // possibly hasn't actually been shown but they figured it out on their own so let's now show the tip.
                        });

                        if (ga) {
                            ga('send', 'event', 'Clean Emoji');
                        }
                    }
                });

                function toggleFunMode(element) {
                    if (element.name === 'funMode') {
                        funMode = element.checked;
                        document.body.classList.toggle('fun-mode', funMode);
                        var clickEmoji = document.getElementsByClassName('click-emoji');
                        Array.from(clickEmoji).forEach(function (emoji) {
                            document.body.removeChild(emoji);
                        });

                        totalEmojiAdded = 0;

                        if (profileImage.parentNode) {
                            mainIntro.removeChild(profileImage);
                        }

                        if (ga) {
                            ga('send', 'event', 'Toggle Fun Mode', 'click', element.checked ? 'on' : 'off');
                        }
                    }
                }


                document.getElementById('funModeToggle').addEventListener('change', function (e) {
                    toggleFunMode(e.target);
                });
            });

            if (true) {
                (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date(); a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
                })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
            }
            if (typeof ga === "function") {
                ga('create', 'UA-139157280-1', 'auto', {});
            }
        </script>
    </body>
</html>
